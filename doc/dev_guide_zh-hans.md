# 前言

在1.x版本的服务器中,我们已经意识到直接读写数据库会带来一些不可预见的问题,同时也发现了由于不完善的数据库模块所导致的逻辑混乱.因此,在假期期间,我们对服务器进行了重新编写,并优化了数据库模块,以期提供更好的开发体验.

这次重写的主要目的是为了优化开发流程,减少部分繁琐的重复操作,提高开发效率.但是,考虑到插件系统的开发并不是必要的,而且会增加日常开发的难度,我们决定将其删除.

# 什么是服务器事件?

"服务器事件"(在本段中简称为 "事件")是服务器的基础,它是 API 的入口,也是某些方法的具体实现.

## 基事件

基事件是所有事件的基类,主要作用是提供部分数据(如`user_id`),并检查请求参数的完整性.

### 属性

| 属性名     | 名称      | 描述                   |
|---------|---------|----------------------|
| user_id | 用户id    | 用户的id,**必须要登录后才能获取** |
| server  | 服务器     | 实例化的服务器类             |
| e_mgr   | 事件管理器   | 用于运行事件               |
| path    | 路径      | 用户请求时的路径             |
| req     | request | >Flask 框架默认使用的请求对象   |

